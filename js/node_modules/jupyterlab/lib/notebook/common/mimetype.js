// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
"use strict";
var CodeMirror = require('codemirror');
var codemirror_1 = require('../../codemirror');
/**
 * Get the appropriate codemirror mimetype given language info.
 */
function mimetypeForLanguage(info) {
    if (info.codemirror_mode) {
        return codemirror_1.findMode(info.codemirror_mode).mime;
    }
    var mode = CodeMirror.findModeByMIME(info.mimetype || '');
    if (mode) {
        return info.mimetype;
    }
    var ext = info.file_extension || '';
    ext = ext.split('.').slice(-1)[0];
    mode = CodeMirror.findModeByExtension(ext || '');
    if (mode) {
        return mode.mime;
    }
    mode = CodeMirror.findModeByName(info.name || '');
    return mode ? mode.mime : 'text/plain';
}
exports.mimetypeForLanguage = mimetypeForLanguage;
//# sourceMappingURL=mimetype.js.map